<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>mr.js - models</title>
    <meta name="description" content="mr.js example - models">
    <script src="/mr.js"></script>
    <link rel="stylesheet" type="text/css" href="models-style.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
  </head>
  <body >
   <mr-app> <!-- debug="true"> !--stats="true">-->
    <mr-panel id="panel" class="layout" data-comp-anchor="type: fixed;">
        <mr-div id="navbar">
        <mr-a href="https://mrjs.io" class="mrjs">
            mrjs
        </mr-a>
            <mr-model
            class="logo"
            id="logo-model"  
            src="/examples-assets/models/logo.stl" 
            data-comp-instancing="type: animate;"
            data-comp-spin="maxspeed: -0.002; acceleration: -0.000008;"  
            data-rotation="-22.91 17.1887 45.8366">
            </mr-model>
        <mr-a href="https://volumetrics.io" class="company">
            volumetrics
        </mr-a>
        </mr-div>

        <mr-text class="col-2 title" >
        Models and Animation
        </mr-text>
        
        <mr-text class="col-2">
        Models can enhance the 3D interactive experience of mixed reality making you feel the blend of virtual and real environment more realistically.
        </mr-text>

        <mr-text class="subtitle col-2">
            Model Format Examples
        </mr-text>

        <mr-div class="links col-2">
            <mr-div class="text-section">
                <mr-text class="label-2" >
                    stl
                </mr-text>
                <mr-text>
                </mr-text>
            </mr-div>
            <mr-model 
                id="stl"
                style="scale: 0.0005;"
                src="/examples-assets/models/logo.stl">
            </mr-model>
        </mr-div>
        <mr-div class="links col-2">
            <mr-div class="text-section">
                <mr-text class="label-2" >
                    glb
                </mr-text>
                <mr-text>
                </mr-text>
                <mr-a href="../examples-assets/models/glb/attribution.txt">attribution</mr-a>
            </mr-div>
            <mr-model 
                id="glb"
                style="scale: 0.00815; z-index: 10;"
                src="../examples-assets/models/glb/cassetteTape.glb">
            </mr-model>
            <!-- Model by https://sketchfab.com/3d-models/walkman-1e8296b489084d6ba76b485d1c2fd37c -->
        </mr-div>
        <mr-div class="links col-2">
            <mr-div class="text-section">
                <mr-text class=" label-2">
                    glb
                </mr-text>
                <mr-text>With Animation as part of the file format.</mr-text>
            </mr-div>
            <mr-model 
                id="glb_anim"
                style="scale: 0.025; z-index: 12;"
                data-comp-animation="clip: 1; action: play;"
                src="../examples-assets/models/animation_koifish.glb">
            </mr-model>
        </mr-div>
        <mr-div class="links col-2">
            <mr-div class="text-section">
                <mr-text class=" label-2">
                    glb - play all clips
                </mr-text>
                <mr-text>With multiple Animations as part of the file format.</mr-text>
            </mr-div>
            <mr-model 
                id="glb_anim"
                style="scale: 0.0085; z-index: 12;"
                data-comp-animation="action: play;"
                src="../examples-assets/models/poof1.glb">
            </mr-model>
        </mr-div>
         <mr-div class="links col-2">
            <mr-div class="text-section">
                <mr-text class=" label-2">
                    glb - play just one clip
                </mr-text>
                <mr-text>With multiple Animations as part of the file format.</mr-text>
            </mr-div>
            <mr-model 
                id="glb_anim"
                style="scale: 0.0085; z-index: 12;"
                data-comp-animation="clip:1; action: play;"
                src="../examples-assets/models/poof1.glb">
            </mr-model>
        </mr-div>

        <mr-div class="links col-2">
            <mr-div class="text-section">
                <mr-text class=" label-2">
                    fbx
                </mr-text>
                <mr-text>
                    With Animation as part of the file format.
                </mr-text>
                 <mr-a href="../examples-assets/models/fbx/attribution.txt">attribution</mr-a>
            </mr-div>
            <mr-model 
                id="fbx"
                style="scale: 0.000095; z-index: 12;"
                data-comp-animation="clip: 0; action: play;"
                src="../examples-assets/models/fbx/animatedChick.fbx">
            </mr-model>
            <!-- Model by https://sketchfab.com/3d-models/walkman-1e8296b489084d6ba76b485d1c2fd37c -->
        </mr-div>
        <mr-div class="links col-2">
             <mr-div class="text-section">
                <mr-text class="label-2" >
                    dae
                </mr-text>
                <mr-text>Note that dae can have a Y-up vs Z-up coordinate system difference that threejs will warn about.</mr-text>
                <mr-a href="../examples-assets/models/dae/attribution.txt">attribution</mr-a>
            </mr-div>
            <mr-model 
                id="dae"
                style="scale: 0.15; z-index: 12;"
                src="../examples-assets/models/dae/spiderPlant.dae">
            </mr-model>
            <!-- Model by  https://sketchfab.com/3d-models/spider-plant-e21199e3cb874bc2be8a13588813f9f5 -->
        </mr-div>
        <mr-div class="links col-2">
            <mr-div class="text-section">
                <mr-text class=" label-2" >
                    obj
                </mr-text>
                <mr-text>Without mtl referenced in file. "mr-model src='/path/to/objFile.obj'"</mr-text>
                <mr-a href="../examples-assets/models/obj1/attribution.txt">attribution</mr-a>
            </mr-div>
            <mr-model 
                id="obj_nomtl"
                style="scale: 0.025; z-index: 12;"
                src="../examples-assets/models/obj1/cow.obj">
            </mr-model>
            <!-- Model by https://sketchfab.com/3d-models/cow-farm-animal-3december2022-19e0659dea1240eea1f16c3c3176c7d0 -->
        </mr-div>
        <mr-div class="links col-2">
            <mr-div class="text-section">
                <mr-text class=" label-2">
                    obj
                </mr-text>
                <mr-text>With mtl referenced in file, mtl NOT loaded as part of 'src'. "mr-model src='/path/to/objFile.obj'"</mr-text>
                <mr-a href="../examples-assets/models/obj2/attribution.txt">attribution</mr-a>
            </mr-div>
            <mr-model 
                id="obj_with_mtl_obj_only"
                style="scale: 0.055; z-index: 12;"
                src="../examples-assets/models/obj2/stillLife.obj">
            </mr-model>
            <!-- Model by https://sketchfab.com/3d-models/still-life-based-on-heathers-artwork-abbcbfa6be104fcc8dc8d5b07b607719 -->
        </mr-div>
        <mr-div class="links col-2">
            <mr-div class="text-section">
                <mr-text class=" label-2">
                    obj
                </mr-text>
                <mr-text>mtl referenced in file AND mtl IS loaded as part of 'src'. "mr-model src='/pathto/mtlFile.mtl,/pathto/objFile.obj'"</mr-text>
                <mr-a href="../examples-assets/models/obj2/attribution.txt">attribution</mr-a>
            </mr-div>
            <mr-model 
                id="obj_with_mtl"
                style="scale: 0.055; z-index: 12;"
                src="../examples-assets/models/obj2/stillLife.mtl,../examples-assets/models/obj2/stillLife.obj">
            </mr-model>
            <!-- Model by https://sketchfab.com/3d-models/still-life-based-on-heathers-artwork-abbcbfa6be104fcc8dc8d5b07b607719 -->
        </mr-div>
        <mr-div class="links col-2">
            <mr-div class="text-section">
                <mr-text class="label-2">
                    dynamic switch of `src`
                </mr-text>
                <mr-button id="switch" onclick="swapSrc()" class="label" >
                    switch button
                </mr-button>
            </mr-div>
            <mr-model 
                id="swap_model"
                style="scale: 0.0002; z-index: 12;"
                data-rotation="0 90 0"
                src="../examples-assets/models/blue_whale.glb">
            </mr-model>
        </mr-div>

        <mr-text class="subtitle col-2">
            Animation / Looping
        </mr-text>

        <mr-div class="links col-2">
            <mr-div class="text-section">
                <mr-text class=" label-2">
                    loop = 'true'
                </mr-text>
            </mr-div>
            <mr-model 
                id="glb_anim"
                style="scale: 0.025; z-index: 12;"
                data-comp-animation="clip: 1; action: play; loop: true;"
                src="../examples-assets/models/animation_koifish.glb">
            </mr-model>
        </mr-div>

        <mr-div class="links col-2">
            <mr-div class="text-section">
                <mr-text class=" label-2">
                    loop = 'false'
                </mr-text>
            </mr-div>
            <mr-model 
                id="glb_anim"
                style="scale: 0.025; z-index: 12;"
                data-comp-animation="clip: 1; action: play; loop: false;"
                src="../examples-assets/models/animation_koifish.glb">
            </mr-model>
        </mr-div>

        <mr-div class="links col-2">
            <mr-div class="text-section">
                <mr-text class=" label-2">
                    loopMode = once
                </mr-text>
            </mr-div>
            <mr-model 
                id="glb_anim"
                style="scale: 0.025; z-index: 12;"
                data-comp-animation="clip: 1; action: play; loopMode: once;"
                src="../examples-assets/models/animation_koifish.glb">
            </mr-model>
        </mr-div>

        <mr-div class="links col-2">
            <mr-div class="text-section">
                <mr-text class=" label-2">
                    loop = 3, loopMode = repeat
                </mr-text>
            </mr-div>
            <mr-model 
                id="glb_anim"
                style="scale: 0.025; z-index: 12;"
                data-comp-animation="clip: 1; action: play; loopMode: repeat; loop: 3;"
                src="../examples-assets/models/animation_koifish.glb">
            </mr-model>
        </mr-div>

        <mr-div class="links col-2">
            <mr-div class="text-section">
                <mr-text class=" label-2">
                    loop = Infinity, loopMode = repeat
                </mr-text>
            </mr-div>
            <mr-model 
                id="glb_anim"
                style="scale: 0.025; z-index: 12;"
                data-comp-animation="clip: 1; action: play; loopMode: repeat; loop: Infinity;"
                src="../examples-assets/models/animation_koifish.glb">
            </mr-model>
        </mr-div>

        <mr-div class="links col-2">
            <mr-div class="text-section">
                <mr-text class=" label-2">
                    loop = 5, loopMode = pingpong
                </mr-text>
            </mr-div>
            <mr-model 
                id="glb_anim"
                style="scale: 0.025; z-index: 12;"
                data-comp-animation="clip: 1; action: play; loopMode: pingpong; loop: 5;"
                src="../examples-assets/models/animation_koifish.glb">
            </mr-model>
        </mr-div>

        <mr-div class="links col-2">
            <mr-div class="text-section">
                <mr-text class=" label-2">
                    loopMode = once, end at start position
                </mr-text>
            </mr-div>
            <mr-model 
                id="glb_anim"
                style="scale: 0.025; z-index: 12;"
                data-comp-animation="action: play; loopMode: once;"
                src="../examples-assets/models/door1.glb">
            </mr-model>
        </mr-div>

        <mr-div class="links col-2">
            <mr-div class="text-section">
                <mr-text class=" label-2">
                    loopMode = once, freeze at final position
                </mr-text>
            </mr-div>
            <mr-model 
                id="glb_anim"
                style="scale: 0.025; z-index: 12;"
                data-comp-animation="action: play; loopMode: once; clampWhenFinished: true"
                src="../examples-assets/models/door1.glb">
            </mr-model>
        </mr-div>

        <mr-div class="links col-2">
            <mr-div class="text-section">
                <mr-text class=" label-2">
                    loop: false, plays once, and play again by button push
                </mr-text>
                <mr-button onclick="playAnimation0()">Play animation</mr-button>
            </mr-div>
            <mr-model 
                id="play-animation0"
                style="scale: 0.025; z-index: 12;"
                data-comp-animation="action: stop; loop:false;"
                src="../examples-assets/models/door1.glb">
            </mr-model>
        </mr-div>

        <mr-div class="links col-2">
            <mr-div class="text-section">
                <mr-text class=" label-2">
                    loop: false, plays once, and play again by button push, freeze at final position
                </mr-text>
                <mr-button onclick="playAnimation1()">Play animation</mr-button>
            </mr-div>
            <mr-model 
                id="play-animation1"
                style="scale: 0.025; z-index: 12;"
                data-comp-animation="action: stop; loop:false; clampWhenFinished: true"
                src="../examples-assets/models/door1.glb">
            </mr-model>
        </mr-div>


        <mr-text class="col-2 subtitle" >
        model
        </mr-text>

        <mr-text class="col-2">
        Model loading is achieved using the model component, `mr-model`, it has one attribute:
        </mr-text>

        <mr-text class="label col-2">
        src
        </mr-text>

        <mr-text class="col-2">
        You fill this out as you would any `src` attribute on an < img /> or < video /> html tag. 
        That is, with the path to the file to be loaded (for example `/examples-assets/foo.glb`)
        </mr-text>

        <mr-text class="label col-2">
        action
        </mr-text>

        <mr-text class="col-2">
        the playback state action
        </mr-text>

        <mr-text class="col-2">
            values: play, pause, stop
        </mr-text>

        <mr-text class="label col-2">
            loop
        </mr-text>

        <mr-text class="col-2">
            whether the animation should be looped, or if paired with `loopCount`, how many times it should loop.
        </mr-text>

        <mr-text class="col-2">
            values: true, false, or number >= 0
        </mr-text>

        <mr-text class="label col-2">
            loopMode
        </mr-text>

        <mr-text class="col-2">
            The type of looping a user wishes to occur.
        </mr-text>

        <mr-text class="col-2">
            values: once, repeat, pingpong
        </mr-text>
      
    </mr-panel>

    </mr-app>

    <script>

        let swap = document.getElementById('swap_model')

        let isShark = false
        swapSrc = () => {
            if(!isShark) {
                console.log('shark');
                swap.src = '../examples-assets/models/great_hammerhead_shark.glb'
                Object.assign(swap.style, {
                    scale: 0.05
                })
            } else {
                swap.src = '../examples-assets/models/blue_whale.glb'
                Object.assign(swap.style, {
                    scale: 0.0002
                })
            }

            isShark = !isShark
        }

        function playAnimation0() {
            document.querySelector("#play-animation0").components.set("animation", {
                action: "play"
            });
        }
        function playAnimation1() {
            document.querySelector("#play-animation1").components.set("animation", {
                action: "play"
            });
        }

        

    </script>
  </body>

  <footer>
    <script src="/examples-assets/js/SpinSystem.js"></script>
  </footer>
</html>
